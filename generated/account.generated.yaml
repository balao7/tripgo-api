---
swagger: "2.0"
info:
  description: "You should access to this endpoint using satapp deploys. For example:<br><br>https://tripgo.skedgo.com/satapp/account<br><br>"
  version: "1.0"
  title: "Account Management"
  contact:
    name: "TripGo API"
    email: "api@tripgo.com"
basePath: "/tripgodata-debug/account"
tags:
- name: "BasicAuth"
  description: "Provides login, signup, reset password, change password and logout"
- name: "Aliases"
  description: "Provides email aliases handling"
- name: "ExternalAuth"
  description: "Provides facebook auth services, google auth services and twitter\
    \ auth services"
consumes:
- "application/json"
produces:
- "application/json"
paths:
  /alias/primary/{email}:
    post:
      operationId: "setPrimaryEmail"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "email"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
        401:
          description: "Authentication Failed"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /alias/{email}:
    get:
      operationId: "getAlias"
      produces:
      - "application/json"
      parameters:
      - name: "email"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/JsonAlias"
          headers: {}
    post:
      operationId: "addAlias"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "email"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
        401:
          description: "Authentication Failed"
          schema:
            $ref: "#/definitions/ErrorMessage"
    delete:
      operationId: "deleteAlias"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "email"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
  /alias/validate/{token}:
    post:
      operationId: "validateAlias"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /alias:
    get:
      operationId: "getAliases"
      produces:
      - "application/json"
      parameters: []
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/JsonAliases"
          headers: {}
  /alias/signup/resend/{email}/{name}:
    get:
      operationId: "signUp"
      parameters:
      - name: "email"
        in: "path"
        required: true
        type: "string"
      - name: "name"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            type: "string"
          headers: {}
  /alias/signup/{token}:
    get:
      operationId: "signUp_1"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
  /alias/logout:
    get:
      operationId: "doLogout"
      parameters: []
      responses:
        default:
          description: "successful operation"
  /alias/reset/{token}:
    get:
      operationId: "resetPassword"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
    post:
      operationId: "passwordForm"
      consumes:
      - "application/x-www-form-urlencoded"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      - name: "password"
        in: "formData"
        required: false
        type: "string"
      - name: "repassword"
        in: "formData"
        required: false
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
  /alias/verify/alias/{token}:
    get:
      operationId: "verifyAliasPage"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
  /alias/twitter:
    get:
      operationId: "twitter"
      parameters: []
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
  /alias/twitter_callback:
    get:
      operationId: "twitterCallback"
      parameters:
      - name: "oauth_token"
        in: "query"
        required: false
        type: "string"
      - name: "oauth_verifier"
        in: "query"
        required: false
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
  /credentials/{provider}:
    get:
      operationId: "getCredentials"
      produces:
      - "application/json"
      parameters:
      - name: "provider"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ExternalAuthCredentials"
          headers: {}
  /facebook/{provider}/{token}:
    post:
      operationId: "facebook"
      produces:
      - "application/json"
      parameters:
      - name: "provider"
        in: "path"
        required: true
        type: "string"
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
      deprecated: true
  /facebook/{token}:
    post:
      operationId: "facebook_1"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /google/{token}:
    post:
      operationId: "google"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /google/{provider}/{token}:
    post:
      operationId: "google_1"
      produces:
      - "application/json"
      parameters:
      - name: "provider"
        in: "path"
        required: true
        type: "string"
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
      deprecated: true
  /twitter_callback/{oauthToken}/{verifier}:
    post:
      operationId: "twitter_callback"
      produces:
      - "application/json"
      parameters:
      - name: "oauthToken"
        in: "path"
        required: true
        type: "string"
      - name: "verifier"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/JsonToken"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /twitter_callback/{provider}/{oauthToken}/{verifier}:
    post:
      operationId: "twitter_callback_1"
      produces:
      - "application/json"
      parameters:
      - name: "provider"
        in: "path"
        required: true
        type: "string"
      - name: "oauthToken"
        in: "path"
        required: true
        type: "string"
      - name: "verifier"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/JsonToken"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
      deprecated: true
  /apple/{token}:
    post:
      operationId: "apple"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /android/{token}:
    post:
      operationId: "android"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /twitter/{provider}/{token}/{secret}:
    post:
      operationId: "twitter_1"
      produces:
      - "application/json"
      parameters:
      - name: "provider"
        in: "path"
        required: true
        type: "string"
      - name: "token"
        in: "path"
        required: true
        type: "string"
      - name: "secret"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
      deprecated: true
  /twitter/{token}/{secret}:
    post:
      operationId: "twitter_2"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      - name: "secret"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /signup/resend/{email}/{name}:
    get:
      operationId: "signUp_5"
      parameters:
      - name: "email"
        in: "path"
        required: true
        type: "string"
      - name: "name"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            type: "string"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /signup/{token}:
    get:
      operationId: "signUp_2"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /logout:
    get:
      operationId: "doLogout_2"
      parameters: []
      responses:
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
    post:
      operationId: "logout"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters: []
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        401:
          description: "Authentication Failed"
          schema:
            $ref: "#/definitions/ErrorMessage"
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /reset/{token}:
    get:
      operationId: "resetPassword_2"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
    post:
      operationId: "passwordForm_2"
      consumes:
      - "application/x-www-form-urlencoded"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      - name: "password"
        in: "formData"
        required: false
        type: "string"
      - name: "repassword"
        in: "formData"
        required: false
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /verify/alias/{token}:
    get:
      operationId: "verifyAliasPage_2"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /twitter:
    get:
      operationId: "twitter_4"
      parameters: []
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /twitter_callback:
    get:
      operationId: "twitterCallback_2"
      parameters:
      - name: "oauth_token"
        in: "query"
        required: false
        type: "string"
      - name: "oauth_verifier"
        in: "query"
        required: false
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/Accounts"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /esignup:
    post:
      operationId: "extendedSignUp"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        required: false
        schema:
          $ref: "#/definitions/JsonExtendedSignupUser"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /reset/{email}:
    post:
      operationId: "reset"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "email"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /signup:
    post:
      operationId: "signup_4"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        required: false
        schema:
          $ref: "#/definitions/JsonSignupUser"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /password/change:
    post:
      operationId: "changePassword"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        required: false
        schema:
          $ref: "#/definitions/JsonNewPassword"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /password/validate:
    post:
      operationId: "validatePassword"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        required: false
        schema:
          $ref: "#/definitions/JsonUser"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /validate/signup/{token}:
    post:
      operationId: "validateSignup"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /validate/reset/{token}:
    post:
      operationId: "validateReset"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /login:
    post:
      operationId: "login"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        required: false
        schema:
          $ref: "#/definitions/JsonUser"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        401:
          description: "Authentication Failed"
          schema:
            $ref: "#/definitions/ErrorMessage"
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /password/{token}:
    post:
      operationId: "setPassword"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "token"
        in: "path"
        required: true
        type: "string"
      - in: "body"
        name: "body"
        required: false
        schema:
          $ref: "#/definitions/JsonUser"
      responses:
        200:
          description: "successful operation"
          schema:
            $ref: "#/definitions/ApiResult"
          headers: {}
        400:
          description: "Missing or invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
securityDefinitions:
  userToken:
    description: ""
    type: "apiKey"
    name: "userToken"
    in: "header"
definitions:
  ApiResult:
    type: "object"
    properties:
      changed:
        type: "boolean"
      userToken:
        type: "string"
      userID:
        type: "string"
      newUser:
        type: "boolean"
  ErrorMessage:
    type: "object"
    properties:
      error:
        type: "string"
      errorCode:
        type: "integer"
        format: "int32"
      usererror:
        type: "boolean"
  JsonAlias:
    type: "object"
    properties:
      email:
        type: "string"
        example: "email@address.com"
      validated:
        type: "boolean"
      primary:
        type: "boolean"
  JsonAliases:
    type: "object"
    properties:
      aliases:
        type: "array"
        items:
          $ref: "#/definitions/JsonAlias"
  Accounts:
    type: "object"
    properties:
      title:
        type: "string"
      application:
        type: "string"
      action:
        type: "string"
      subaction:
        type: "string"
      error:
        type: "string"
      username:
        type: "string"
      name:
        type: "string"
      password:
        type: "string"
      rePassword:
        type: "string"
      remember:
        type: "boolean"
      messageTitle:
        type: "string"
      message:
        type: "string"
      fbexternalAuth:
        $ref: "#/definitions/ExternalAuthCredentials"
      ggexternalAuth:
        $ref: "#/definitions/ExternalAuthCredentials"
  ExternalAuthCredentials:
    type: "object"
    properties:
      apiKey:
        type: "string"
      apiSecret:
        type: "string"
      provider:
        type: "string"
        enum:
        - "FACEBOOK_SKEDGO"
        - "FACEBOOK_TRIPGO"
        - "TWITTER_TRIPGO"
        - "FACEBOOK_RIOGO"
        - "FACEBOOK_XUM"
        - "FACEBOOK_XUM_DENVER"
        - "FACEBOOK_XUM_LA"
        - "FACEBOOK_XUM_BLR"
        - "GOOGLE_TRIPGO"
        - "GOOGLE_XUM"
        - "GOOGLE_XUM_DENVER"
        - "GOOGLE_XUM_LA"
        - "APPLE_TRIPGO"
        - "ANDROID_TRIPGO"
      scope:
        type: "string"
  JsonToken:
    type: "object"
    properties:
      token:
        type: "string"
      secret:
        type: "string"
  JsonExtendedSignupUser:
    type: "object"
    properties:
      username:
        type: "string"
        example: "email@address.com"
      password:
        type: "string"
        example: "**passwd**"
      name:
        type: "string"
        example: "John Doe"
      location:
        $ref: "#/definitions/JsonLocation"
      givenName:
        type: "string"
      surname:
        type: "string"
      appData:
        type: "object"
        additionalProperties:
          type: "object"
      phone:
        $ref: "#/definitions/JsonPhone"
  JsonLocation:
    type: "object"
    properties:
      lat:
        type: "number"
        format: "double"
        example: -33.858867
      lng:
        type: "number"
        format: "double"
        example: 151.2036155
      address:
        type: "string"
        example: "55 Harrington street"
      name:
        type: "string"
        example: "Office"
  JsonPhone:
    type: "object"
    properties:
      phoneCode:
        type: "string"
        example: "750"
      phone:
        type: "string"
        example: "43216789"
      validated:
        type: "boolean"
      type:
        type: "string"
        example: "mobile"
      id:
        type: "string"
  JsonSignupUser:
    type: "object"
    properties:
      username:
        type: "string"
        example: "email@address.com"
      password:
        type: "string"
        example: "**passwd**"
      name:
        type: "string"
        example: "John Doe"
      location:
        $ref: "#/definitions/JsonLocation"
  JsonNewPassword:
    type: "object"
    properties:
      username:
        type: "string"
        example: "email@address.com"
      password:
        type: "string"
        example: "**passwd**"
      newPassword:
        type: "string"
        example: "**newpasswd**"
  JsonUser:
    type: "object"
    properties:
      username:
        type: "string"
        example: "email@address.com"
      password:
        type: "string"
        example: "**passwd**"
