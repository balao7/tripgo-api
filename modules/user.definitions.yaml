json_apitripgouser:
  type: object
  title: APITripGoUser
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_tripgouser'
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_publictripgouser'
    - properties:
        aliases:
          description: >-
            Retrieve the list of email aliases<br>

            Cannot be used to update the aliases, for that you need to use the
            account endpoints.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonemail'
        eventsInfo:
          description: >-
            Retrieve the list of events info<br>

            Cannot be used to update the events info, for that you need to use
            the /eventinfo endpoint.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsoneventinfo'
        favorites:
          description: >-
            Retrieve the list of favorites<br>

            Cannot be used to update the favorites, for that you need to use
            the /favorite endpoint.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonfavorite'
        habituals:
          description: >-
            Retrieve the list of habituals<br>

            Cannot be used to update the habituals, for that you need to use
            the /habituals endpoint.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonhabitualitem'
        locationKeys:
          description: >-
            Retrieve the list of location keys<br>

            Cannot be used to update the location keys, for that you need to
            use the /locationkey endpoint.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocationkey'
        pendingValidation:
          description: Retrieve the list of email pending validation
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonemail'
        searchHistory:
          description: >-
            Retrieve the list of history items<br>

            Cannot be used to update the history search terms, for that you
            need to use the /history endpoint.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonsearchhistory'
        tripItems:
          description: >-
            Retrieve the list of trip items<br>

            Cannot be used to update the trip items, for that you need to use
            the /tripitem endpoint.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsontripitem'
        vehicles:
          description: >-
            Retrieve the list of vehicles<br>

            Cannot be used to update the vehicles, for that you need to use
            the /vehicle endpoint.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonvehicle'
json_appdata:
  type: object
  title: AppData
  properties:
    data:
      type: object
    userID:
      type: string
json_externalauthcredentials:
  type: object
  title: ExternalAuthCredentials
  properties:
    apiKey:
      type: string
    apiSecret:
      type: string
    provider:
      type: string
    scope:
      type: string
json_jsondistanceunit:
  type: string
  title: JsonDistanceUnit
  enum:
    - metric
    - imperial
    - automatic
json_jsonemail:
  type: object
  title: JsonEmail
  properties:
    email:
      type: string
    primary:
      type: boolean
    userID:
      type: string
    validated:
      type: boolean
  description: >-
    Represents a user added email, it can be set as primary and validated or
    not
json_jsoneventinfo:
  type: object
  title: JsonEventInfo
  properties:
    effectiveEnd:
      type: number
    effectiveStart:
      type: number
    excluded:
      type: boolean
    expiryDate:
      type: number
    goHereDirectly:
      type: boolean
    identifier:
      type: string
    userID:
      type: string
  description: Represents information about an event in the agenda
json_jsonfavorite:
  type: object
  title: JsonFavorite
  properties:
    name:
      type: string
    order:
      description: order to be shown
      type: number
    userID:
      type: string
    uuid:
      description: unique id
      type: string
  description: |-
    Represents favorite data saved for the user, possible values are: <br>
    <a href='./json_jsonfavoritelocation.html'>JsonFavoriteLocation</a> <br>
    <a href='./json_jsonfavoritestop.html'>JsonFavoriteStop</a> <br>
    <a href='./json_jsonfavoritequery.html'>JsonFavoriteQuery</a> <br>
    <a href='./json_jsonfavoritetrip.html'>JsonFavoriteTrip</a> <br>
json_jsonfavoritelocation:
  type: object
  title: JsonFavoriteLocation
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonfavorite'
    - properties:
        habitualItemMap:
          type: object
        jsonVehicleMap:
          type: object
        location:
          $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocation'
  description: >-
    Represents a Favorite Location, including a place and a list of vehicles
    garaged at that location.
json_jsonfavoritequery:
  type: object
  title: JsonFavoriteQuery
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonfavorite'
    - properties:
        endLocation:
          $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocation'
        queryTime:
          $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonquerytime'
        startLocation:
          $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocation'
  description: >-
    Represents a favorite query, including the start and end locations and a
    query time.
json_jsonfavoritestop:
  type: object
  title: JsonFavoriteStop
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonfavorite'
    - properties:
        filter:
          type: string
        region:
          type: string
        stopCode:
          type: string
  description: Represents a favorite stop
json_jsonfavoritetrip:
  type: object
  title: JsonFavoriteTrip
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonfavorite'
    - properties:
        endLocation:
          $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocation'
        pattern:
          description: pattern of the trip
          type: object
        startLocation:
          $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocation'
        time:
          description: in seconds since midnight
          type: number
  description: >-
    Represents a favorite trip, including the start and end locations and the
    time of day and pattern of the trip
json_jsonhabitualitem:
  type: object
  title: JsonHabitualItem
  properties:
    endDate:
      type: number
    location:
      $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonfavoritelocation'
    recurrenceRule:
      type: string
    startDate:
      type: number
    timeRaw:
      type: number
    typeRaw:
      type: string
    uuid:
      type: string
json_jsonlocation:
  type: object
  title: JsonLocation
  properties:
    address:
      type: string
    lat:
      type: number
    lng:
      type: number
    name:
      type: string
json_jsonlocationkey:
  type: object
  title: JsonLocationKey
  properties:
    key:
      type: string
    location:
      $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocation'
    usageCount:
      type: number
    userID:
      type: string
json_jsonopting:
  type: object
  title: JsonOpting
  properties:
    googleAnalytics:
      type: boolean
    xeroxAnalytics:
      type: boolean
  description: >-
    Represents opting's booleans for the user, must all be sent together when
    updating it.
json_jsonphone:
  type: object
  title: JsonPhone
  properties:
    id:
      type: string
    phone:
      type: string
    phoneCode:
      type: string
    type:
      type: string
    validated:
      type: boolean
  description: Represents a phone number with a specific type
json_jsonprofileweights:
  type: object
  title: JsonProfileWeights
  properties:
    carbon:
      type: number
    hassle:
      type: number
    money:
      type: number
    time:
      type: number
  description: >-
    Represents the user preferences about how to combine the various
    components of a trip's quality into a single figure
json_jsonquerytime:
  type: object
  title: JsonQueryTime
  properties:
    leaveAfter:
      type: boolean
    time:
      type: number
  description: >-
    Used to represent three different types of query times:<br>

    <ul>

    <li>Leave Now: both time and leaveAfter null</li>

    <li>Leave After: time with the corresponding value and leaveAfter =
    true</li>

    <li>Arrive by: time with the corresponding value and leaveAfter =
    false</li>

    </ul>
json_jsonresult:
  type: object
  title: JsonResult
  properties:
    result:
      type: object
  description: Generic result class
json_jsonsearchhistory:
  type: object
  title: JsonSearchHistory
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonlocation'
    - properties:
        dateAdded:
          type: number
        dateUpdated:
          type: number
        source:
          description: source or destination
          type: boolean
        updates:
          description: number of updates
          type: number
        userID:
          type: string
  description: >-
    Represents a Search History item, including name, address, source and
    lat,lng. <br>

    Will automatically add dateAdded and dateUpdated values, and count the
    number of updates.<br>

    Will keep a max of 30 elements per user and merge items with equal
    (lat,lng) using 5 decimal digits of <a
    href='http://gis.stackexchange.com/questions/8650/how-to-measure-the-accuracy-of-latitude-and-longitude'>precision</a>
json_jsontripflightitem:
  type: object
  title: JsonTripFlightItem
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsontripitem'
    - properties:
        arrivalAirport:
          type: string
        data:
          type: object
        departureAirpoint:
          type: string
        note:
          type: string
json_jsontripitem:
  type: object
  title: JsonTripItem
  properties:
    arrivalTime:
      type: number
    departureTime:
      type: number
    flags:
      type: string
    fromIdentifier:
      type: string
    toIdentifier:
      type: string
    userID:
      type: string
    uuid:
      type: string
json_jsontripkititem:
  type: object
  title: JsonTripKitItem
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsontripitem'
    - properties:
        kitID:
          type: string
        shareURL:
          type: string
json_jsonvehicle:
  type: object
  title: JsonVehicle
  properties:
    garage:
      $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonfavoritelocation'
    name:
      type: string
    type:
      type: string
    uuid:
      type: string
  description: 'Vehicle Data, including name, type and garage'
json_latlong:
  type: object
  title: LatLong
  properties:
    lat:
      type: number
    lng:
      type: number
json_publictripgouser:
  type: object
  title: PublicTripGoUser
  allOf:
    - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_tripgouser'
    - properties:
        phones:
          description: >-
            Retrieve the list of phones<br>

            Cannot be used to update the phones, for that you need to use the
            user endpoints.
          type: array
          items:
            $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonphone'
json_route:
  type: object
  title: Route
  properties:
    coordinates:
      type: array
      items:
        $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_latlong'
    type:
      type: string
json_savedtripurl:
  type: object
  title: SavedTripUrl
  properties:
    token:
      type: string
    updateUrl:
      type: string
    url:
      type: string
json_tripgouser:
  type: object
  title: TripGoUser
  properties:
    address1:
      type: string
    address2:
      type: string
    appData:
      type: object
    city:
      type: string
    country:
      type: string
    currency:
      description: >-
        preferred currency of the user. Currencies are identified by their ISO
        4217 currency

        codes. Visit the <a href="https://en.wikipedia.org/wiki/ISO_4217">

        wikipedia ISO web site</a> for more information, including a table of

        currency codes.
      type: string
    cycleSpeed:
      type: number
    distanceUnit:
      $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsondistanceunit'
    email:
      description: >-
        Primary email address, will be just the email if validated, or a JSON
        object with JsonEmail format if not yet validated!

        Cannot be used to update the email, for that you need to use the
        account endpoints.
      $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonemail'
    firstWeekday:
      type: number
    formatVersion:
      type: number
    givenName:
      type: string
    largeImageURL:
      type: string
    maximumWalkingDuration:
      type: number
    minimumTransferTime:
      type: number
    name:
      type: string
    opting:
      $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonopting'
    postCode:
      type: string
    profileWeights:
      $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_jsonprofileweights'
    smallImageURL:
      type: string
    surname:
      type: string
    userID:
      type: string
    valueOfTime:
      type: number
    walkSpeed:
      type: number
  description: >-
    Contains all the information of a user. <br>

    Note that the email address will be returned as a String not as a
    JsonEmail if it is already validated.<br>

    Also, the list of aliases, favorites, vehicles, etc. are only returned by
    the backend, cannot be used to updated

    those lists, for that, you need to use the endpoints for that purpose.
  json_push_device:
    type: object
    title: Push Notification Platform/Device pair
    properties:
      platform:
        type: string
        enum:
          - android
          - ios
        description: android or ios device
      deviceId:
        type: string
        description: a unique id for that user/device pair
  json_push_token:
    type: object
    title: Push Notification Token for a specific Platform/Device pair
    allOf:
      - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_push_device'
      - properties:
          token:
            type: string
  json_unified_message:
    type: object
    title: Push Notification Message
    properties:
      title:
        type: string
        description: The notification's title (not visible on iOS phones and tablets)
      body:
        type: string
        description: The notification's body text
      sound:
        type: string
        description: The sound to play when the device receives the notification. iOS, Sound files can be in the main bundle of the client app or in the Library/Sounds folder of the app's data container. See the iOS Developer Library for more information. Android, Supports "default" or the filename of a sound resource bundled in the app. Sound files must reside in /res/raw/.
      badge:
        type: integer
        description: The value of the badge on the home screen app icon. If not specified, the badge is not changed. If set to 0, the badge is removed.
      icon:
        type: string
        description: The notification's icon. (Android only) Sets the notification icon to myicon for drawable resource myicon. If you don't send this key in the request, FCM displays the launcher icon specified in your app manifest.
      clickAction:
        type: string
        description: The action associated with a user click on the notification. iOS, Corresponds to category in the APNs payload. Android, If specified, an activity with a matching intent filter is launched when a user clicks on the notification.
      data:
        type: object
        description: This parameter specifies the custom key-value pairs of the message's payload. Values in string types are recommended. On iOS, if the message is sent via APNS, it represents the custom data fields. On Android, this would result in an intent extra named fields with the string values
      contetAvailable:
        type: boolean
        description: On iOS, use this field to represent content-available in the APNs payload. When a notification or message is sent and this is set to true, an inactive client app is awoken. On Android, data messages wake the app by default.
      ttl:
        type: integer
        description: time to live in seconds for the notification (Android only)
    example:
      title: "title"
      body: "message"
      sound: "default"
      badge: 1
      data: {"custom":"field"}
  json_pn_result:
    type: object
    title: Response object including the list of PN tokens for each device of the user.
    properties:
      result:
        type: array
        items:
          - $ref: 'https://skedgo.github.io/tripgo-api/modules/user.definitions.yaml#/json_push_token'
    example:
      result:
        - platform: "android"
          deviceId: "clkjwerds.fswersd"
          token: "sldfjsidls:mcvsadijfsad.fasldfjasdlfiasdjfskdf"
        - platform: "ios"
          deviceId: "asdfsdfs.fdwersfd"
          token: "234dsf345:dsfer.e42df234wfe23ro8279e8f2iu3984729ud"
  json_error_message:
    type: object
    title: Error Message
    properties:
      error:
        type: string
        description: error message
      errorCode:
        type: integer
        description: error code
      usererror:
        type: boolean
        description: whether it is a error to be shown to the user or not
